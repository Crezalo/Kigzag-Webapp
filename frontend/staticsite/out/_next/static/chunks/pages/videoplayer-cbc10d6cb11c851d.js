(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8955],{2709:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/videoplayer",function(){return t(48786)}])},48786:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return w}});var r=t(85893),i=t(67294),n=t(65550),l=t(11163),s=t.n(l),a=t(17563),d=t(9008),c=t.n(d),u=t(52135),h=t(25675),v=t.n(h),f=t(44054),g=t(86554),y=t(95366),p=t(5715),x=t(97520),m=t(50717),j=t(433);function w(){let e=(0,l.useRouter)(),{videoid:o}=e.query;if(!o){let t=e.asPath;o=a.parseUrl(t).query.videoid}var d,h,w,S,[N,_]=(0,i.useState)("");let[P,C]=(0,i.useState)(!1),[D,k]=(0,i.useState)(""),[E,V]=(0,i.useState)(!1),Z=(0,i.useRef)(null),T=(null===(w=(0,x.eI)())||void 0===w?void 0:w.width)<(null===(S=(0,x.eI)())||void 0===S?void 0:S.height);(0,i.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await u.Z.refresh()),C(u.Z.validateCurrentUserRefreshToken()&&u.Z.validateCurrentUserAccessToken())}()},[]),(0,i.useEffect)(()=>{k(u.Z.getUsername())},[P]);let[F,M]=(0,i.useState)({title:"",description:"",creator:"",seriesid:"",type:-1,createdat:"",chronology:-1}),b=(d=Date.now(),(h=d-Date.parse(null==F?void 0:F.createdat))<6e4?Math.round(h/1e3)+" seconds ago":h<36e5?Math.round(h/6e4)+" minutes ago":h<864e5?Math.round(h/36e5)+" hours ago":h<2592e6?Math.round(h/864e5)+" days ago":h<31536e6?Math.round(h/2592e6)+" months ago":Math.round(h/31536e6)+" years ago");return(0,i.useEffect)(()=>{(async function(){if(o){let e=await (0,y.ZU)(o.toString());console.log("result"),console.log(e),"string"!=typeof e&&e&&V(e)}})()},[D,o]),(0,i.useEffect)(()=>{(async function(){if(o){let e=await (0,n.kS)(o.toString());M(e[0])}})()},[o]),(0,i.useEffect)(()=>{(async function(){if(o){var e,t,r;let i=await (0,n.sv)(o.toString());_(i[0].signedurl),null===(e=Z.current)||void 0===e||e.pause(),null===(t=Z.current)||void 0===t||t.load(),null===(r=Z.current)||void 0===r||r.play()}})()},[o]),console.log("videoDetails"),console.log(F),console.log("signedURl"),console.log(N),(0,r.jsxs)("div",{children:[(0,r.jsxs)(c(),{children:[(0,r.jsxs)("title",{children:[(null==F?void 0:F.chronology)>0?(null==F?void 0:F.chronology)+". ":"",(null==F?void 0:F.title)?null==F?void 0:F.title:"Crezalo: Player"]}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.jsx)("div",{className:"videoDiv",style:{backgroundColor:"black"},children:P&&N?(0,r.jsxs)(r.Fragment,{children:[E?(0,r.jsxs)(r.Fragment,{children:[(null==F?void 0:F.type)==0?(0,r.jsx)("video",{controls:!0,autoPlay:!0,crossOrigin:"anonymous",controlsList:"nodownload",ref:Z,style:{height:T?"60vw":"80vh",width:"90vw"},children:(0,r.jsx)("source",{src:N,type:"video/mp4"})}):(0,r.jsx)(p.ZP,{documents:[{uri:N.replace(".mp4",".pdf")}],theme:{primary:"#5296d8",secondary:"#ffffff",tertiary:"#5296d899",textPrimary:"#ffffff",textSecondary:"#5296d8",textTertiary:"#00000099",disableThemeScrollbar:!1},pluginRenderers:p.lX,style:{height:T?"80vh":"90vh",width:"100vw"}}),(0,r.jsxs)("h1",{className:"videoDiv h1",children:[(null==F?void 0:F.chronology)>0?(null==F?void 0:F.chronology)+". ":"",null==F?void 0:F.title]}),(0,r.jsxs)("section",{onClick(){s().push({pathname:"/creatorprofile",query:{address:null==F?void 0:F.creator}}),(0,j.Q5)("RedirectToCreatorProfile")},className:"creatorIdent pointer",children:[(0,r.jsx)("div",{className:"creatorImageMinor",children:(0,r.jsx)(g.Z,{creator:null==F?void 0:F.creator,height:50,width:50})}),(0,r.jsx)("h2",{className:"VideoDiv h2",children:null==F?void 0:F.creator})]}),(0,r.jsx)("h1",{className:"VideoDiv h1",style:{fontSize:"13px",color:"grey"},children:b.startsWith("1 ")?b.replace("s","").replace("econd","second"):b}),(0,r.jsx)("h1",{className:"VideoDiv p",children:null==F?void 0:F.description})]}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)("div",{style:{marginTop:"5vh"},children:(null==F?void 0:F.seriesid)==="vod_"+(null==F?void 0:F.creator)?(0,r.jsxs)(r.Fragment,{children:[E?(0,r.jsx)("h1",{className:"videoDiv h1",style:{color:"#3B82F6"},children:"Other Videos"}):(0,r.jsx)(r.Fragment,{}),(0,r.jsx)(f.Z,{creator:null==F?void 0:F.creator,onCreatorProfile:!1,category:"Videos",ignoreVideoId:o.toString(),onVideoPlayer:!0})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h1",{className:"videoDiv h1",style:{color:"#3B82F6"},children:"Other lectures from course"}),(0,r.jsx)(f.Z,{creator:null==F?void 0:F.creator,onCreatorProfile:!1,category:"SeriesVideoGrid",seriesid:null==F?void 0:F.seriesid,ignoreVideoId:o.toString(),onVideoPlayer:!0})]})})]}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"100vh",width:"100vw"},children:(0,r.jsx)(v(),{src:m.Z,height:"150",width:"150",alt:"",style:{width:"150px",height:"150px"}})})})]})}},14601:function(){},32767:function(){},28251:function(){},57677:function(){},87324:function(){}},function(e){e.O(0,[4824,7642,3461,186,2608,4054,9774,2888,179],function(){return e(e.s=2709)}),_N_E=e.O()}]);