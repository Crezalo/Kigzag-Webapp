(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6660],{50253:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var o,i,n,a=t(41451),s=t(87462),p=t(19668);function l(e,r){var t={};return Object.keys(e).forEach(function(o){-1===r.indexOf(o)&&(t[o]=e[o])}),t}var d=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=function(e){return r.reduce(function(r,t){var o=t(e);return o?(0,p.Z)(r,o):r},{})};return o.propTypes={},o.filterProps=r.reduce(function(e,r){return e.concat(r.filterProps)},[]),o},c=t(4942),h=t(71410);function u(e,r){return r&&"string"==typeof r?r.split(".").reduce(function(e,r){return e&&e[r]?e[r]:null},e):null}var x=function(e){var r=e.prop,t=e.cssProperty,o=void 0===t?e.prop:t,i=e.themeKey,n=e.transform,a=function(e){if(null==e[r])return null;var t=e[r],a=u(e.theme,i)||{},s=function(e){var r;return("function"==typeof a?r=a(e):Array.isArray(a)?r=a[e]||e:(r=u(a,e)||e,n&&(r=n(r))),!1===o)?r:(0,c.Z)({},o,r)};return(0,h.k)(e,t,s)};return a.propTypes={},a.filterProps=[r],a};function f(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var m=d(x({prop:"border",themeKey:"borders",transform:f}),x({prop:"borderTop",themeKey:"borders",transform:f}),x({prop:"borderRight",themeKey:"borders",transform:f}),x({prop:"borderBottom",themeKey:"borders",transform:f}),x({prop:"borderLeft",themeKey:"borders",transform:f}),x({prop:"borderColor",themeKey:"palette"}),x({prop:"borderRadius",themeKey:"shape"})),g=d(x({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),x({prop:"display"}),x({prop:"overflow"}),x({prop:"textOverflow"}),x({prop:"visibility"}),x({prop:"whiteSpace"})),y=d(x({prop:"flexBasis"}),x({prop:"flexDirection"}),x({prop:"flexWrap"}),x({prop:"justifyContent"}),x({prop:"alignItems"}),x({prop:"alignContent"}),x({prop:"order"}),x({prop:"flex"}),x({prop:"flexGrow"}),x({prop:"flexShrink"}),x({prop:"alignSelf"}),x({prop:"justifyItems"}),x({prop:"justifySelf"})),v=d(x({prop:"gridGap"}),x({prop:"gridColumnGap"}),x({prop:"gridRowGap"}),x({prop:"gridColumn"}),x({prop:"gridRow"}),x({prop:"gridAutoFlow"}),x({prop:"gridAutoColumns"}),x({prop:"gridAutoRows"}),x({prop:"gridTemplateColumns"}),x({prop:"gridTemplateRows"}),x({prop:"gridTemplateAreas"}),x({prop:"gridArea"})),w=d(x({prop:"position"}),x({prop:"zIndex",themeKey:"zIndex"}),x({prop:"top"}),x({prop:"right"}),x({prop:"bottom"}),x({prop:"left"})),j=d(x({prop:"color",themeKey:"palette"}),x({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=x({prop:"boxShadow",themeKey:"shadows"});function Z(e){return e<=1?"".concat(100*e,"%"):e}var S=x({prop:"width",transform:Z}),C=x({prop:"maxWidth",transform:Z}),D=x({prop:"minWidth",transform:Z}),k=x({prop:"height",transform:Z}),P=x({prop:"maxHeight",transform:Z}),T=x({prop:"minHeight",transform:Z});x({prop:"size",cssProperty:"width",transform:Z}),x({prop:"size",cssProperty:"height",transform:Z});var z=d(S,C,D,k,P,T,x({prop:"boxSizing"})),F=t(27122),I=d(x({prop:"fontFamily",themeKey:"typography"}),x({prop:"fontSize",themeKey:"typography"}),x({prop:"fontStyle",themeKey:"typography"}),x({prop:"fontWeight",themeKey:"typography"}),x({prop:"letterSpacing"}),x({prop:"lineHeight"}),x({prop:"textAlign"})),N=t(45987),E=t(67294),M=t(86010),K=t(8679),_=t.n(K),W=t(16612),R=t(99700),A=(i=d(m,g,y,v,w,j,b,z,F.Z,I),(n=function(e){var r=i(e);return e.css?(0,s.Z)({},(0,p.Z)(r,i((0,s.Z)({theme:e.theme},e.css))),l(e.css,[i.filterProps])):e.sx?(0,s.Z)({},(0,p.Z)(r,i((0,s.Z)({theme:e.theme},e.sx))),l(e.sx,[i.filterProps])):r}).propTypes={},n.filterProps=["css","sx"].concat((0,a.Z)(i.filterProps)),n),O=(o=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.name,i=(0,N.Z)(t,["name"]),n="function"==typeof e?function(r){return{root:function(t){return e((0,s.Z)({theme:r},t))}}}:{root:e},a=(0,W.Z)(n,(0,s.Z)({Component:"div",name:o||"div".displayName,classNamePrefix:o},i));e.filterProps&&(r=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var p=E.forwardRef(function(e,t){var o,i,n=e.children,p=e.className,l=e.clone,d=e.component,c=(0,N.Z)(e,["children","className","clone","component"]),h=a(e),u=(0,M.Z)(h.root,p),x=c;return r&&(o=x,i={},Object.keys(o).forEach(function(e){-1===r.indexOf(e)&&(i[e]=o[e])}),x=i),l?E.cloneElement(n,(0,s.Z)({className:(0,M.Z)(n.props.className,u)},x)):"function"==typeof n?n((0,s.Z)({className:u},x)):E.createElement(d||"div",(0,s.Z)({ref:t,className:u},x),n)});return _()(p,"div"),p},function(e,r){return o(e,(0,s.Z)({defaultTheme:R.Z},r))})(A,{name:"MuiBox"})},23267:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders",function(){return t(15772)}])},15772:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return eo}});var o=t(85893),i=t(79895),n=t(41120),a=t(81719),s=t(62097),p=t(93789),l=t(64631),d=t(20784),c=t(85214),h=t(14412),u=t(80562),x=t(326),f=t(19572),m=t(26215),g=t(81284),y=t(95309),v=t(29901),w=t(14548),j=t(47621),b=t(54167),Z=t(55406),S=t(71859),C=t(52135),D=t(67294),k=t(9008),P=t.n(k),T=t(41749),z=t(50253),F=t(11163),I=t.n(F),N=t(86554),E=t(65550),M=t(37497),K=t(97520),_=t(87822),W=t(87927);let R=(0,n.Z)(e=>({textfieldMsg:{width:"65vw","& .MuiFormLabel-root":{fontSize:"18px"}}})),A=e=>{var r,t;let{order:i}=e,n=C.Z.getUsername(),[a,s]=(0,D.useState)(""),[p,l]=(0,D.useState)(""),[d,c]=(0,D.useState)(""),h=R(),u=(null===(r=(0,K.eI)())||void 0===r?void 0:r.width)<(null===(t=(0,K.eI)())||void 0===t?void 0:t.height);return(0,D.useEffect)(()=>{(async function(){if(0==i.ordertype)s("Premium Videos from "+i.creator),c(0==i.type?"1 month":1==i.type?"3 month":"1 year");else if(1==i.ordertype){c(0==i.type?"1 month":1==i.type?"3 month":"1 year");let e=await (0,E.kS)(i.seriesid);e[0]&&s(e[0].title);let r=await (0,E.v9)(i.seriesid);r[0]&&l(r[0].signedurl)}else if(2==i.ordertype){let t=await (0,M.n9)(i.productid);t[0]&&(s(t[0].title),c(t[0].variantname));let o=await (0,M.KS)(i.productid);o[0]&&l(o[0].signedurl)}else if(3==i.ordertype){let n=await (0,M.KS)(i.productid);n[0]&&l(n[0].signedurl)}})()},[n,i]),(0,o.jsx)(o.Fragment,{children:-1!==i.ordertype&&(null==i?void 0:i.creator)!=""?(0,o.jsxs)("div",{className:u?"cartItemCardMobile":"cartItemCard pointer",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:u?"100vw":(null==i?void 0:i.ordertype)==2?"35vw":(null==i?void 0:i.ordertype)==3?"100vw":"25vw"},onClick(){I().push({pathname:(null==i?void 0:i.ordertype)==2?"/merch":(null==i?void 0:i.ordertype)==1?"/course":"/creatorprofile",query:(null==i?void 0:i.ordertype)==2?{productid:i.productid}:(null==i?void 0:i.ordertype)==1?{courseid:i.seriesid}:{address:i.creator}})},children:[(0,o.jsx)("div",{className:u?"cartItemCardImageElementMobile":"cartItemCardImageElement",children:0==i.ordertype||3==i.ordertype?(0,o.jsx)(N.Z,{creator:i.creator,height:90,width:90}):(0,o.jsx)(o.Fragment,{children:(null==p?void 0:p.includes("https://"))?(0,o.jsx)("img",{src:p,alt:"Loading ...",className:u?"cartItemCardImageElementMobile":"cartItemCardImageElement"}):(0,o.jsx)(o.Fragment,{})})}),3!==i.ordertype?(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px",width:u&&2===i.ordertype?"40%":"55%"},children:[(0,o.jsx)("h1",{style:{fontSize:"14px"},children:(0,K.aS)(a,40)}),(0,o.jsx)("h1",{style:{fontSize:"13px",color:"grey",fontWeight:"bold"},children:(0,K.aS)(d,100)}),0===i.ordertype||1===i.ordertype?(0,o.jsxs)("h1",{style:{fontSize:"13px",color:Date.parse(i.expiry_date)>Date.now()?"blue":"red",fontWeight:"bold"},children:[Date.parse(i.expiry_date)>Date.now()?"Expires":"Expired"," ","on"," ",new Date(Date.parse(i.expiry_date)).getDate()+" "+W.Z[new Date(Date.parse(i.expiry_date)).getMonth()]+" "+new Date(Date.parse(i.expiry_date)).getFullYear()]}):(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold"},children:["Ordered on"," ",new Date(Date.parse(i.boughtat)).getDate()+" "+W.Z[new Date(Date.parse(i.boughtat)).getMonth()]+" "+new Date(Date.parse(i.boughtat)).getFullYear()]})]}):(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px"},children:[(0,o.jsx)("h1",{style:{fontWeight:"bold",marginTop:"5px",color:"#3B82F6"},children:i.creator}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹ ",i.amount]}),(0,o.jsx)(_.Z,{className:h.textfieldMsg,label:"Message",type:"text",multiline:!0,variant:"filled",value:i.message}),(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold",marginTop:"5px"},children:["Tipped on"," ",new Date(Date.parse(i.tippedat)).getDate()+" "+W.Z[new Date(Date.parse(i.tippedat)).getMonth()]+" "+new Date(Date.parse(i.tippedat)).getFullYear()]})]}),2==i.ordertype?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",float:"right"},children:[(0,o.jsx)(_.Z,{label:"Qty",type:"number",size:"small",variant:"filled",value:i.quantity,style:{width:u?"15vw":"5vw",padding:"5px",marginRight:"10px"}}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹",i.buyingprice]})]}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(o.Fragment,{})})};var O=t(73794),B=t(95366),q=t(53199),V=t(30031),H=t(25675),U=t.n(H),X=t(50717),G=t(29630);let L=(0,n.Z)(e=>({paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],color:"white",justifyContent:"center",margin:"10px 5px 20px 5px",overflowX:"hidden",maxHeight:"80vh","&:hover":{boxShadow:"0 10px 18px 8px #173464",borderRadius:"2%"}}})),Y=e=>{var r,t,i;let{category:n}=e,a=C.Z.getUsername(),s=L(),p=(null===(r=(0,K.eI)())||void 0===r?void 0:r.width)<(null===(t=(0,K.eI)())||void 0===t?void 0:t.height),[l,d]=(0,D.useState)([{username:"",ordertype:-1,creator:"",seriesid:"",productid:"",expiry_date:"",type:0,quantity:"0",buyingprice:0,deliverystatus:"",deliverystatuslink:"",returnstatus:"",amount:0,message:"",boughtat:"",tippedat:""}]);return(0,D.useEffect)(()=>{(async function(){let e=[];"Videos"==n?e=await (0,O.I$)():"Courses"==n?e=await (0,B.Nq)():"Merch"==n?e=await (0,q.et)():"Perq"==n&&(e=await (0,V.VI)()),console.log(e),"string"!=typeof e&&d(e)})()},[a]),(0,D.useEffect)(()=>{var e=l,r="Videos"===n?0:"Courses"===n?1:"Merch"===n?2:"Perq"===n?3:-1;for(let t=0;t<l.length;t++)e[t].ordertype=r;d(e)},[l]),(0,o.jsx)("div",{className:p?"blueTextBlackBackgroundMobile":"blueTextBlackBackground",children:(null===(i=l[0])||void 0===i?void 0:i.ordertype)==-1&&l[0]?(0,o.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"99vh",width:"99vw"},children:(0,o.jsx)(U(),{src:X.Z,height:"150",width:"150",alt:"",style:{width:"150px",height:"150px"}})}):(0,o.jsx)(z.Z,{component:"form",sx:{minWidth:150,margin:"20px 5px 15px 5px"},children:l[0]?(0,o.jsx)(T.Z,{container:!0,direction:"row",spacing:1,children:null==l?void 0:l.map((e,r)=>(0,o.jsx)(o.Fragment,{children:(null==e?void 0:e.creator)!=""||(null==e?void 0:e.productid)?(0,o.jsx)("div",{className:s.paper,children:(0,o.jsx)(T.Z,{item:!0,xs:4,children:(0,o.jsx)(A,{order:e},r)})}):(0,o.jsx)(o.Fragment,{})}))}):(0,o.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"90vh",width:"90vw"},children:(0,o.jsx)(G.Z,{style:{fontSize:"20px"},children:"\uD83D\uDE14 No Orders Yet"})})})})};var J=t(35969);let Q=(0,n.Z)({tab:{fontSize:"18px",fontWeight:600},background:{secondary:"black"},root:{position:"fixed",bottom:0,left:0,width:"100vw",display:"flex",flexDirection:"row",zIndex:999,borderRadius:"5px"}}),$=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),ee=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(8)," + 1px)")}}),er=(0,a.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:r.spacing(0,1),...r.mixins.toolbar}}),et=(0,a.ZP)(l.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...$(r),"& .MuiDrawer-paper":$(r)},...!t&&{...ee(r),"& .MuiDrawer-paper":ee(r)}}});function eo(){var e,r;let t=(0,s.Z)(),[n,a]=D.useState(!1),l=Q(),[k,T]=(0,D.useState)(!1),[z,F]=(0,D.useState)(""),[I,N]=(0,D.useState)(0),E=(null===(e=(0,K.eI)())||void 0===e?void 0:e.width)<(null===(r=(0,K.eI)())||void 0===r?void 0:r.height);(0,D.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await C.Z.refresh()),T(C.Z.validateCurrentUserRefreshToken()&&C.Z.validateCurrentUserAccessToken())}()},[]),(0,D.useEffect)(()=>{F(C.Z.getUsername())},[k]);let[M,_]=D.useState(0),W=(e,r)=>{_(r)},R=[(0,o.jsx)(Y,{category:"Videos"},1),(0,o.jsx)(Y,{category:"Courses"},2),(0,o.jsx)(Y,{category:"Merch"},3),(0,o.jsx)(Y,{category:"Perq"},4)],A=()=>{a(!0)},O=()=>{a(!1)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)(P(),{children:[(0,o.jsx)("title",{children:"Crezalo: My Purchases"}),(0,o.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,o.jsx)("div",{style:{backgroundColor:"black",display:"flex",flexDirection:"row"},children:""!=z&&k?(0,o.jsxs)(o.Fragment,{children:[E?(0,o.jsx)(J.Z,{value:M,onChange(e,r){_(r)},showLabels:!0,className:l.root,children:["Videos","Courses","Merch","Tip Jar"].map((e,r)=>(0,o.jsx)("div",{style:{display:"flex",color:r==M?"blue":"primary",justifyContent:"space-around",width:"100vw"},onClick:()=>W(event,r),children:(0,o.jsx)(y.Z,{sx:{minHeight:48,display:"flex",flexDirection:"row",justifyContent:"space-around",px:2.5},children:(0,o.jsxs)(v.Z,{sx:{minWidth:0,justifyContent:"space-around",padding:"5px 2vw 5px 2vw",color:r==M?"#3b82f6":"primary"},children:[0===r?(0,o.jsx)(j.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),1===r?(0,o.jsx)(b.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),2===r?(0,o.jsx)(Z.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),3===r?(0,o.jsx)(S.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{})]})})},e))}):(0,o.jsx)("div",{style:{paddingTop:"10vh"},children:(0,o.jsx)(p.Z,{sx:{display:"flex"},children:(0,o.jsxs)(et,{variant:"permanent",open:n,children:[n?(0,o.jsx)(er,{children:(0,o.jsx)(u.Z,{onClick:O,children:"rtl"===t.direction?(0,o.jsx)(m.Z,{}):(0,o.jsx)(f.Z,{})})}):(0,o.jsx)(d.Z,{children:(0,o.jsx)(u.Z,{color:"inherit","aria-label":"open drawer",onClick:A,edge:"start",sx:{marginRight:5,...n&&{display:"none"}},children:(0,o.jsx)(x.Z,{})})}),(0,o.jsx)(h.Z,{}),(0,o.jsx)(c.Z,{children:["Videos","Courses","Merch","Tip Jar"].map((e,r)=>(0,o.jsx)(g.ZP,{disablePadding:!0,sx:{display:"block",color:r==M?"blue":"primary"},onClick:()=>W(event,r),children:(0,o.jsxs)(y.Z,{sx:{minHeight:48,justifyContent:n?"initial":"center",px:2.5},children:[(0,o.jsxs)(v.Z,{sx:{minWidth:0,mr:n?3:"auto",justifyContent:"center",padding:"5px",color:r==M?"#3b82f6":"primary"},children:[0===r?(0,o.jsx)(j.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),1===r?(0,o.jsx)(b.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),2===r?(0,o.jsx)(Z.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),3===r?(0,o.jsx)(S.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(w.Z,{primary:e,sx:{opacity:n?1:0}})]})},e))})]})})}),(0,o.jsx)("div",{style:{width:E?"100vw":"90vw"},children:(0,o.jsx)(i.Z,{children:R[M]})})]}):(0,o.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"100vh",width:"100vw"},children:(0,o.jsx)(U(),{src:X.Z,height:"150",width:"150",alt:"",style:{width:"150px",height:"150px"}})})})]})}}},function(e){e.O(0,[7642,1762,3595,9774,2888,179],function(){return e(e.s=23267)}),_N_E=e.O()}]);