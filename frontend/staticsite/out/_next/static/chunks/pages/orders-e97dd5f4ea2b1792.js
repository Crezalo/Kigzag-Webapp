(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{50253:function(e,r,t){"use strict";t.d(r,{Z:function(){return O}});var o,n,i,a=t(41451),s=t(87462),p=t(19668);function l(e,r){var t={};return Object.keys(e).forEach(function(o){-1===r.indexOf(o)&&(t[o]=e[o])}),t}var d=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=function(e){return r.reduce(function(r,t){var o=t(e);return o?(0,p.Z)(r,o):r},{})};return o.propTypes={},o.filterProps=r.reduce(function(e,r){return e.concat(r.filterProps)},[]),o},c=t(4942),u=t(71410);function h(e,r){return r&&"string"==typeof r?r.split(".").reduce(function(e,r){return e&&e[r]?e[r]:null},e):null}var f=function(e){var r=e.prop,t=e.cssProperty,o=void 0===t?e.prop:t,n=e.themeKey,i=e.transform,a=function(e){if(null==e[r])return null;var t=e[r],a=h(e.theme,n)||{},s=function(e){var r;return("function"==typeof a?r=a(e):Array.isArray(a)?r=a[e]||e:(r=h(a,e)||e,i&&(r=i(r))),!1===o)?r:(0,c.Z)({},o,r)};return(0,u.k)(e,t,s)};return a.propTypes={},a.filterProps=[r],a};function x(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var m=d(f({prop:"border",themeKey:"borders",transform:x}),f({prop:"borderTop",themeKey:"borders",transform:x}),f({prop:"borderRight",themeKey:"borders",transform:x}),f({prop:"borderBottom",themeKey:"borders",transform:x}),f({prop:"borderLeft",themeKey:"borders",transform:x}),f({prop:"borderColor",themeKey:"palette"}),f({prop:"borderRadius",themeKey:"shape"})),y=d(f({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),f({prop:"display"}),f({prop:"overflow"}),f({prop:"textOverflow"}),f({prop:"visibility"}),f({prop:"whiteSpace"})),g=d(f({prop:"flexBasis"}),f({prop:"flexDirection"}),f({prop:"flexWrap"}),f({prop:"justifyContent"}),f({prop:"alignItems"}),f({prop:"alignContent"}),f({prop:"order"}),f({prop:"flex"}),f({prop:"flexGrow"}),f({prop:"flexShrink"}),f({prop:"alignSelf"}),f({prop:"justifyItems"}),f({prop:"justifySelf"})),v=d(f({prop:"gridGap"}),f({prop:"gridColumnGap"}),f({prop:"gridRowGap"}),f({prop:"gridColumn"}),f({prop:"gridRow"}),f({prop:"gridAutoFlow"}),f({prop:"gridAutoColumns"}),f({prop:"gridAutoRows"}),f({prop:"gridTemplateColumns"}),f({prop:"gridTemplateRows"}),f({prop:"gridTemplateAreas"}),f({prop:"gridArea"})),w=d(f({prop:"position"}),f({prop:"zIndex",themeKey:"zIndex"}),f({prop:"top"}),f({prop:"right"}),f({prop:"bottom"}),f({prop:"left"})),j=d(f({prop:"color",themeKey:"palette"}),f({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),b=f({prop:"boxShadow",themeKey:"shadows"});function Z(e){return e<=1?"".concat(100*e,"%"):e}var S=f({prop:"width",transform:Z}),C=f({prop:"maxWidth",transform:Z}),D=f({prop:"minWidth",transform:Z}),P=f({prop:"height",transform:Z}),k=f({prop:"maxHeight",transform:Z}),T=f({prop:"minHeight",transform:Z});f({prop:"size",cssProperty:"width",transform:Z}),f({prop:"size",cssProperty:"height",transform:Z});var F=d(S,C,D,P,k,T,f({prop:"boxSizing"})),N=t(27122),z=d(f({prop:"fontFamily",themeKey:"typography"}),f({prop:"fontSize",themeKey:"typography"}),f({prop:"fontStyle",themeKey:"typography"}),f({prop:"fontWeight",themeKey:"typography"}),f({prop:"letterSpacing"}),f({prop:"lineHeight"}),f({prop:"textAlign"})),E=t(45987),K=t(67294),_=t(86010),M=t(8679),W=t.n(M),I=t(16612),R=t(99700),A=(n=d(m,y,g,v,w,j,b,F,N.Z,z),(i=function(e){var r=n(e);return e.css?(0,s.Z)({},(0,p.Z)(r,n((0,s.Z)({theme:e.theme},e.css))),l(e.css,[n.filterProps])):e.sx?(0,s.Z)({},(0,p.Z)(r,n((0,s.Z)({theme:e.theme},e.sx))),l(e.sx,[n.filterProps])):r}).propTypes={},i.filterProps=["css","sx"].concat((0,a.Z)(n.filterProps)),i),O=(o=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.name,n=(0,E.Z)(t,["name"]),i="function"==typeof e?function(r){return{root:function(t){return e((0,s.Z)({theme:r},t))}}}:{root:e},a=(0,I.Z)(i,(0,s.Z)({Component:"div",name:o||"div".displayName,classNamePrefix:o},n));e.filterProps&&(r=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var p=K.forwardRef(function(e,t){var o,n,i=e.children,p=e.className,l=e.clone,d=e.component,c=(0,E.Z)(e,["children","className","clone","component"]),u=a(e),h=(0,_.Z)(u.root,p),f=c;return r&&(o=f,n={},Object.keys(o).forEach(function(e){-1===r.indexOf(e)&&(n[e]=o[e])}),f=n),l?K.cloneElement(i,(0,s.Z)({className:(0,_.Z)(i.props.className,h)},f)):"function"==typeof i?i((0,s.Z)({className:h},f)):K.createElement(d||"div",(0,s.Z)({ref:t,className:h},f),i)});return W()(p,"div"),p},function(e,r){return o(e,(0,s.Z)({defaultTheme:R.Z},r))})(A,{name:"MuiBox"})},23267:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders",function(){return t(15772)}])},15772:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return J}});var o=t(85893),n=t(79895),i=t(81719),a=t(62097),s=t(93789),p=t(64631),l=t(20784),d=t(85214),c=t(14412),u=t(80562),h=t(326),f=t(19572),x=t(26215),m=t(81284),y=t(95309),g=t(29901),v=t(14548),w=t(47621),j=t(54167),b=t(55406),Z=t(71859),S=t(52135),C=t(67294),D=t(9008),P=t.n(D),k=t(41120),T=t(41749),F=t(50253),N=t(11163),z=t.n(N),E=t(86554),K=t(65550),_=t(37497),M=t(97520),W=t(87822),I=t(87927);let R=(0,k.Z)(e=>({textfieldMsg:{width:"65vw","& .MuiFormLabel-root":{fontSize:"18px"}}})),A=e=>{let{order:r}=e,t=S.Z.getUsername(),[n,i]=(0,C.useState)(""),[a,s]=(0,C.useState)(""),[p,l]=(0,C.useState)(""),d=R();return(0,C.useEffect)(()=>{(async function(){if(0==r.ordertype)i("Premium Videos from "+r.creator),l(0==r.type?"1 month":1==r.type?"3 month":"1 year");else if(1==r.ordertype){l(0==r.type?"1 month":1==r.type?"3 month":"1 year");let e=await (0,K.kS)(r.seriesid);e[0]&&i(e[0].title);let t=await (0,K.v9)(r.seriesid);t[0]&&s(t[0].signedurl)}else if(2==r.ordertype){let o=await (0,_.n9)(r.productid);o[0]&&(i(o[0].title),l(o[0].variantname));let n=await (0,_.KS)(r.productid);n[0]&&s(n[0].signedurl)}else if(3==r.ordertype){let a=await (0,_.KS)(r.productid);a[0]&&s(a[0].signedurl)}})()},[t,r]),(0,o.jsx)(o.Fragment,{children:-1!==r.ordertype&&(null==r?void 0:r.creator)!=""?(0,o.jsxs)("div",{className:"cartItemCard pointer",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:(null==r?void 0:r.ordertype)==2?"35vw":(null==r?void 0:r.ordertype)==3?"100vw":"25vw"},onClick(){z().push({pathname:(null==r?void 0:r.ordertype)==2?"/merch":(null==r?void 0:r.ordertype)==1?"/course":"/creatorprofile",query:(null==r?void 0:r.ordertype)==2?{productid:r.productid}:(null==r?void 0:r.ordertype)==1?{courseid:r.seriesid}:{address:r.creator}})},children:[(0,o.jsx)("div",{className:"cartItemCardImageElement",children:0==r.ordertype||3==r.ordertype?(0,o.jsx)(E.Z,{creator:r.creator,height:90,width:90}):(0,o.jsx)(o.Fragment,{children:(null==a?void 0:a.includes("https://"))?(0,o.jsx)("img",{src:a,alt:"Loading ...",className:"cartItemCardImageElement"}):(0,o.jsx)(o.Fragment,{})})}),3!==r.ordertype?(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px",width:"55%"},children:[(0,o.jsx)("h1",{style:{fontSize:"14px"},children:(0,M.a)(n,40)}),(0,o.jsx)("h1",{style:{fontSize:"13px",color:"grey",fontWeight:"bold"},children:(0,M.a)(p,100)}),0===r.ordertype||1===r.ordertype?(0,o.jsxs)("h1",{style:{fontSize:"13px",color:Date.parse(r.expiry_date)>Date.now()?"blue":"red",fontWeight:"bold"},children:[Date.parse(r.expiry_date)>Date.now()?"Expires":"Expired"," ","on"," ",new Date(Date.parse(r.expiry_date)).getDate()+" "+I.Z[new Date(Date.parse(r.expiry_date)).getMonth()]+" "+new Date(Date.parse(r.expiry_date)).getFullYear()]}):(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold"},children:["Ordered on"," ",new Date(Date.parse(r.boughtat)).getDate()+" "+I.Z[new Date(Date.parse(r.boughtat)).getMonth()]+" "+new Date(Date.parse(r.boughtat)).getFullYear()]})]}):(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px"},children:[(0,o.jsx)("h1",{style:{fontWeight:"bold",marginTop:"5px",color:"#3B82F6"},children:r.creator}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹ ",r.amount]}),(0,o.jsx)(W.Z,{className:d.textfieldMsg,label:"Message",type:"text",multiline:!0,variant:"filled",value:r.message}),(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold",marginTop:"5px"},children:["Tipped on"," ",new Date(Date.parse(r.tippedat)).getDate()+" "+I.Z[new Date(Date.parse(r.tippedat)).getMonth()]+" "+new Date(Date.parse(r.tippedat)).getFullYear()]})]}),2==r.ordertype?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",float:"right"},children:[(0,o.jsx)(W.Z,{label:"Qty",type:"number",size:"small",variant:"filled",value:r.quantity,style:{width:"5vw",padding:"5px",marginRight:"10px"}}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹",r.buyingprice]})]}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(o.Fragment,{})})};var O=t(73794),q=t(95366),B=t(53199),V=t(30031);let H=(0,k.Z)(e=>({paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],color:"white",justifyContent:"center",margin:"10px 20px 20px 20px",overflowX:"hidden",maxHeight:"80vh","&:hover":{boxShadow:"0 10px 18px 8px #173464",borderRadius:"2%"}}})),U=e=>{let{category:r}=e,t=S.Z.getUsername(),n=H(),[i,a]=(0,C.useState)([{username:"",ordertype:-1,creator:"",seriesid:"",productid:"",expiry_date:"",type:0,quantity:"0",buyingprice:0,deliverystatus:"",deliverystatuslink:"",returnstatus:"",amount:0,message:"",boughtat:"",tippedat:""}]);return(0,C.useEffect)(()=>{(async function(){let e=[];"Videos"==r?e=await (0,O.I$)():"Courses"==r?e=await (0,q.Nq)():"Merch"==r?e=await (0,B.et)():"Perq"==r&&(e=await (0,V.VI)()),console.log(e),"string"!=typeof e&&e[0]&&a(e)})()},[t]),(0,C.useEffect)(()=>{var e=i,t="Videos"===r?0:"Courses"===r?1:"Merch"===r?2:"Perq"===r?3:-1;for(let o=0;o<i.length;o++)e[o].ordertype=t;a(e)},[i]),(0,o.jsx)("div",{className:"blueTextBlackBackground",children:(0,o.jsx)(F.Z,{component:"form",sx:{minWidth:150,margin:"20px 5px 15px 5px"},children:(0,o.jsx)(T.Z,{container:!0,direction:"row",spacing:1,children:null==i?void 0:i.map((e,r)=>(0,o.jsx)(o.Fragment,{children:((null==e?void 0:e.creator)!=""||(null==e?void 0:e.productid))&&(null==e?void 0:e.ordertype)!=-1?(0,o.jsx)("div",{className:n.paper,children:(0,o.jsx)(T.Z,{item:!0,xs:4,children:(0,o.jsx)(A,{order:e},r)})}):(0,o.jsx)(o.Fragment,{})}))})})})},X=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),G=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(8)," + 1px)")}}),L=(0,i.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:r.spacing(0,1),...r.mixins.toolbar}}),Y=(0,i.ZP)(p.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...X(r),"& .MuiDrawer-paper":X(r)},...!t&&{...G(r),"& .MuiDrawer-paper":G(r)}}});function J(){let e=(0,a.Z)(),[r,t]=C.useState(!1),[i,p]=(0,C.useState)(!1),[D,k]=(0,C.useState)(""),[T,F]=(0,C.useState)(0);(0,C.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await S.Z.refresh()),p(S.Z.validateCurrentUserRefreshToken()&&S.Z.validateCurrentUserAccessToken())}()},[]),(0,C.useEffect)(()=>{k(S.Z.getUsername())},[i]);let[N,z]=C.useState(0),E=(e,r)=>{z(r)},K=[(0,o.jsx)(U,{category:"Videos"},1),(0,o.jsx)(U,{category:"Courses"},2),(0,o.jsx)(U,{category:"Merch"},3),(0,o.jsx)(U,{category:"Perq"},4)],_=()=>{t(!0)},M=()=>{t(!1)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)(P(),{children:[(0,o.jsx)("title",{children:"Crezalo: My Purchases"}),(0,o.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,o.jsx)("div",{style:{backgroundColor:"black",display:"flex",flexDirection:"row"},children:""!=D&&i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{paddingTop:"10vh"},children:(0,o.jsx)(s.Z,{sx:{display:"flex"},children:(0,o.jsxs)(Y,{variant:"permanent",open:r,children:[r?(0,o.jsx)(L,{children:(0,o.jsx)(u.Z,{onClick:M,children:"rtl"===e.direction?(0,o.jsx)(x.Z,{}):(0,o.jsx)(f.Z,{})})}):(0,o.jsx)(l.Z,{children:(0,o.jsx)(u.Z,{color:"inherit","aria-label":"open drawer",onClick:_,edge:"start",sx:{marginRight:5,...r&&{display:"none"}},children:(0,o.jsx)(h.Z,{})})}),(0,o.jsx)(c.Z,{}),(0,o.jsx)(d.Z,{children:["Videos","Courses","Merch","Tip Jar"].map((e,t)=>(0,o.jsx)(m.ZP,{disablePadding:!0,sx:{display:"block",color:t==N?"blue":"primary"},onClick:()=>E(event,t),children:(0,o.jsxs)(y.Z,{sx:{minHeight:48,justifyContent:r?"initial":"center",px:2.5},children:[(0,o.jsxs)(g.Z,{sx:{minWidth:0,mr:r?3:"auto",justifyContent:"center",padding:"5px",color:t==N?"#3b82f6":"primary"},children:[0===t?(0,o.jsx)(w.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),1===t?(0,o.jsx)(j.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),2===t?(0,o.jsx)(b.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),3===t?(0,o.jsx)(Z.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(v.Z,{primary:e,sx:{opacity:r?1:0}})]})},e))})]})})}),(0,o.jsx)("div",{style:{width:"90vw"},children:(0,o.jsx)(n.Z,{children:K[N]})})]}):(0,o.jsx)(o.Fragment,{})})]})}}},function(e){e.O(0,[642,431,595,774,888,179],function(){return e(e.s=23267)}),_N_E=e.O()}]);