(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9525],{67139:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/revenue",function(){return i(80630)}])},80630:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eh}});var r=i(85893),n=i(79895),a=i(41120),o=i(81719),s=i(62097),l=i(93789),d=i(64631),c=i(20784),x=i(85214),p=i(14412),h=i(80562),u=i(326),g=i(19572),v=i(26215),f=i(81284),j=i(95309),m=i(29901),y=i(14548),w=i(47621),b=i(54167),Z=i(55406),S=i(71859),C=i(52135),k=i(67294),T=i(9008),D=i.n(T),F=i(22318),M=i(75445),z=i(73794),N=i(95366),P=i(74977),_=i(14195),B=i(3023),I=i(75358),E=i(14888),R=i(19264),q=i(56880),W=i(53199),V=i(30031),A=i(65550),L=i(37497),Q=i(41749),U=i(50253),O=i(11163),X=i.n(O),K=i(86554),H=i(97520),Y=i(87822),J=i(87927),G=i(433);let $=(0,a.Z)(e=>({textfieldMsg:{width:"65vw","& .MuiFormLabel-root":{fontSize:"18px"}}})),ee=e=>{var t,i;let{order:n,title:a,variantname:o}=e,s=C.Z.getUsername(),[l,d]=(0,k.useState)(""),c=$(),x=(null===(t=(0,H.eI)())||void 0===t?void 0:t.width)<(null===(i=(0,H.eI)())||void 0===i?void 0:i.height);return(0,k.useEffect)(()=>{(async function(){if(3==n.ordertype){let e=await (0,L.KS)(n.productid);e[0]&&d(e[0].signedurl)}})()},[s]),(0,r.jsx)(r.Fragment,{children:-1!==n.ordertype&&(null==n?void 0:n.creator)!=""?(0,r.jsxs)("div",{className:x?"cartItemCardMobile":"cartItemCard pointer",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:x?"100vw":(null==n?void 0:n.ordertype)==2?"35vw":(null==n?void 0:n.ordertype)==3?"100vw":"25vw"},onClick(){X().push({pathname:(null==n?void 0:n.ordertype)==2?"/merch":(null==n?void 0:n.ordertype)==1?"/course":"/creatorprofile",query:(null==n?void 0:n.ordertype)==2?{productid:n.productid}:(null==n?void 0:n.ordertype)==1?{courseid:n.seriesid}:{address:n.creator}}),(0,G.Q5)((null==n?void 0:n.ordertype)==2?"RedirectFromCartToMerchPage":(null==n?void 0:n.ordertype)==1?"RedirectFromCartToCoursePage":"RedirectFromCartToCreatorProfilePage")},children:[3!==n.ordertype?(0,r.jsxs)("div",{style:{padding:"0px 5px 8px 15px",width:x&&2===n.ordertype?"50%":"65%"},children:[(0,r.jsx)("h1",{style:{fontSize:"14px"},children:(0,H.aS)(a,40)}),(0,r.jsx)("h1",{style:{fontSize:"13px",color:"grey",fontWeight:"bold"},children:(0,H.aS)(o,100)}),(0,r.jsxs)("h1",{style:{fontSize:"13px",color:"purple",fontWeight:"bold"},children:["Ordered on"," ",new Date(Date.parse(n.boughtat)).getDate()+" "+J.Z[new Date(Date.parse(n.boughtat)).getMonth()]+" "+new Date(Date.parse(n.boughtat)).getFullYear()]}),(0,r.jsx)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold"},children:["Packing","Shipped","Delivered"][n.deliverystatus]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"cartItemCardImageElement",children:(0,r.jsx)(K.Z,{creator:n.username,height:90,width:90})}),(0,r.jsxs)("div",{style:{padding:"0px 5px 8px 15px"},children:[(0,r.jsx)("h1",{style:{fontWeight:"bold",marginTop:"5px",color:"#3B82F6"},children:n.username}),(0,r.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹ ",n.amount]}),(0,r.jsx)(Y.Z,{className:c.textfieldMsg,label:"Message",type:"text",multiline:!0,variant:"filled",value:n.message}),(0,r.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold",marginTop:"5px"},children:["Tipped on"," ",new Date(Date.parse(n.tippedat)).getDate()+" "+J.Z[new Date(Date.parse(n.tippedat)).getMonth()]+" "+new Date(Date.parse(n.tippedat)).getFullYear()]})]})]}),2==n.ordertype?(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",float:"right"},children:[(0,r.jsx)(Y.Z,{label:"Qty",type:"number",size:"small",variant:"filled",value:n.quantity,style:{width:"5vw",padding:"5px",marginRight:"10px"}}),(0,r.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹",n.buyingprice]})]}):(0,r.jsx)(r.Fragment,{})]}):(0,r.jsx)(r.Fragment,{})})},et=(0,a.Z)(e=>({paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],color:"white",justifyContent:"center",margin:"10px 20px 20px 20px",overflowX:"hidden",maxHeight:"80vh","&:hover":{boxShadow:"0 10px 18px 8px #173464",borderRadius:"2%"}}})),ei=e=>{var t,i;let{category:n,productid:a,title:o,variantname:s}=e,l=C.Z.getUsername(),d=et(),c=(null===(t=(0,H.eI)())||void 0===t?void 0:t.width)<(null===(i=(0,H.eI)())||void 0===i?void 0:i.height),[x,p]=(0,k.useState)([{username:"",ordertype:-1,creator:"",seriesid:"",productid:"",expiry_date:"",type:0,quantity:"0",buyingprice:0,deliverystatus:"",deliverystatuslink:"",returnstatus:"",amount:0,message:"",boughtat:"",tippedat:""}]);return(0,k.useEffect)(()=>{(async function(){if("all"!=a||"Perq"==n){let e=[];"Videos"==n?e=await (0,z.I$)():"Courses"==n?e=await (0,N.Nq)():"Merch"==n?e=await (0,W.Up)(a):"Perq"==n&&(e=await (0,V.pQ)()),console.log(e),"string"!=typeof e&&p(e)}})()},[l,a]),(0,k.useEffect)(()=>{var e=x,t="Videos"===n?0:"Courses"===n?1:"Merch"===n?2:"Perq"===n?3:-1;for(let i=0;i<x.length;i++)e[i].ordertype=t;p(e)},[x]),(0,r.jsx)("div",{className:c?"blueTextBlackBackgroundMobile":"blueTextBlackBackground",children:(0,r.jsx)(U.Z,{component:"form",sx:{minWidth:150,margin:"20px 5px 15px 5px"},children:(0,r.jsx)(Q.Z,{container:!0,direction:"row",spacing:1,children:null==x?void 0:x.map((e,t)=>(0,r.jsx)(r.Fragment,{children:((null==e?void 0:e.creator)!=""||(null==e?void 0:e.productid))&&(null==e?void 0:e.ordertype)!=-1?(0,r.jsx)("div",{className:d.paper,children:(0,r.jsx)(Q.Z,{item:!0,xs:4,children:(0,r.jsx)(ee,{order:e,title:o,variantname:s},t)})}):(0,r.jsx)(r.Fragment,{})}))})})})};var er=i(25675),en=i.n(er),ea=i(50717);let eo=e=>{var t,i,n,a,o,s;let{category:l}=e,d=C.Z.getUsername(),[c,x]=(0,k.useState)(null),[p,h]=(0,k.useState)(Math.random().toString(36).slice(2)),u=(null===(t=(0,H.eI)())||void 0===t?void 0:t.width)<(null===(i=(0,H.eI)())||void 0===i?void 0:i.height),[g,v]=(0,k.useState)([{seriesid:"",title:"",productid:"",variantname:""}]),[f,j]=(0,k.useState)("all");return(0,k.useEffect)(()=>{(async function(){let e=[];if("Videos"==l)e=await (0,z.To)();else if("Courses"==l){e=await (0,N.eV)(f);let t=await (0,A.dG)(d);"string"!=typeof t&&v(t)}else if("Merch"==l){e=await (0,W.ce)(f);let i=await (0,L.r8)(d);"string"!=typeof i&&v(i)}else"Perq"==l&&(e=await (0,V.hD)());console.log(e),"string"!=typeof e&&x(e)})(),h(Math.random().toString(36).slice(2))},[d,f]),console.log("data"),console.log(c),console.log(g),console.log(f),(0,r.jsx)(r.Fragment,{children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:u?"blueTextBlackBackgroundMobile":"blueTextBlackBackground",style:{display:"flex",flexDirection:"row"},children:[(0,r.jsx)(F.Z,{style:{marginTop:"10px",writingMode:"vertical-lr",textOrientation:"mixed",fontSize:u?"15px":"20px"},children:"Videos"===l?"Sales for Premium Video Memberships (in ₹)":"Courses"===l?"Sales for Course Memberships (in ₹)":"Merch"===l?"Sales for Merchandise (in ₹)":"Tips Received (in ₹)"}),(0,r.jsxs)(P.w,{width:u?325:800,height:u?300:500,data:c,children:[(0,r.jsx)(_.q,{strokeDasharray:"3 3"}),(0,r.jsx)(B.K,{dataKey:"date"}),(0,r.jsx)(I.B,{}),(0,r.jsx)(E.u,{}),(0,r.jsx)(R.D,{}),(0,r.jsx)(q.x,{type:"monotone",dataKey:"total",activeDot:{r:8}})]})]}),"Courses"===l&&(null===(n=g[0])||void 0===n?void 0:n.seriesid)!=""?(0,r.jsx)("div",{className:"blueTextBlackBackground",children:(0,r.jsxs)(M.Z,{id:"type",name:"type",className:"mb-4 border-b-2 form inputSingleLineText",style:{backgroundColor:"white",textAlign:"center",color:"black",resize:"both",textAlignLast:"center",overflow:"none"},onChange(e){j(e.target.value)},children:[(0,r.jsx)("option",{value:"all",children:"Aggregate"}),g.map(e=>(0,r.jsx)("option",{value:e.seriesid,children:e.title}))]})}):(0,r.jsx)(r.Fragment,{}),"Merch"===l&&(null===(a=g[0])||void 0===a?void 0:a.productid)!=""?(0,r.jsx)("div",{className:"blueTextBlackBackground",children:(0,r.jsxs)(M.Z,{id:"type",name:"type",className:"mb-4 border-b-2 form inputSingleLineText",style:{backgroundColor:"white",textAlign:"center",color:"black",resize:"both",textAlignLast:"center",overflow:"none"},onChange(e){j(e.target.value)},children:[(0,r.jsx)("option",{value:"all",children:"Aggregate"}),g.map(e=>(0,r.jsx)("option",{value:e.productid,children:e.title}))]})}):(0,r.jsx)(r.Fragment,{}),c[0]?"":(0,r.jsx)("div",{className:"blueTextBlackBackground",children:(0,r.jsx)(F.Z,{style:{fontSize:"20px",paddingLeft:"15vw"},children:"\uD83D\uDE14 No Sales Yet"})}),"Merch"===l||"Perq"===l?(0,r.jsx)(ei,{category:l,productid:f,title:null===(o=g.filter(e=>e.productid==f)[0])||void 0===o?void 0:o.title,variantname:null===(s=g.filter(e=>e.productid==f)[0])||void 0===s?void 0:s.variantname}):(0,r.jsx)(r.Fragment,{})]}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"99vh",width:"99vw"},className:"blueTextBlackBackground",children:(0,r.jsx)(en(),{src:ea.Z,height:"150",width:"150",alt:"",style:{width:"150px",height:"150px"}})})})};var es=i(35969);let el=(0,a.Z)({tab:{fontSize:"18px",fontWeight:600},background:{secondary:"black"},root:{position:"fixed",bottom:0,left:0,width:"100vw",display:"flex",flexDirection:"row",zIndex:999,borderRadius:"5px"}}),ed=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),ec=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(8)," + 1px)")}}),ex=(0,o.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:t.spacing(0,1),...t.mixins.toolbar}}),ep=(0,o.ZP)(d.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:t,open:i}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...i&&{...ed(t),"& .MuiDrawer-paper":ed(t)},...!i&&{...ec(t),"& .MuiDrawer-paper":ec(t)}}});function eh(){var e,t;let i=(0,s.Z)(),[a,o]=k.useState(!1),d=el(),[T,F]=(0,k.useState)(!1),[M,z]=(0,k.useState)(""),N=(null===(e=(0,H.eI)())||void 0===e?void 0:e.width)<(null===(t=(0,H.eI)())||void 0===t?void 0:t.height);(0,k.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await C.Z.refresh()),F(C.Z.validateCurrentUserRefreshToken()&&C.Z.validateCurrentUserAccessToken())}()},[]),(0,k.useEffect)(()=>{z(C.Z.getUsername())},[T]);let[P,_]=k.useState(0),B=(e,t)=>{_(t)},I=[(0,r.jsx)(eo,{category:"Videos"},1),(0,r.jsx)(eo,{category:"Courses"},2),(0,r.jsx)(eo,{category:"Merch"},3),(0,r.jsx)(eo,{category:"Perq"},4)],E=()=>{o(!0),(0,G.Q5)("RevenueSliderOpen")},R=()=>{o(!1),(0,G.Q5)("RevenueSliderClose")};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(D(),{children:[(0,r.jsx)("title",{children:"Crezalo: My Revenue"}),(0,r.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,r.jsx)("div",{style:{backgroundColor:"black",display:"flex",flexDirection:"row"},children:""!=M&&T?(0,r.jsxs)(r.Fragment,{children:[N?(0,r.jsx)(es.Z,{value:P,onChange(e,t){_(t)},showLabels:!0,className:d.root,children:["Videos","Courses","Merch","Tip Jar"].map((e,t)=>(0,r.jsx)("div",{style:{display:"flex",color:t==P?"blue":"primary",justifyContent:"space-around",width:"100vw"},onClick(){B(event,t),(0,G.Q5)("TabChange_"+P+"_To_"+t)},children:(0,r.jsx)(j.Z,{sx:{minHeight:48,display:"flex",flexDirection:"row",justifyContent:"space-around",px:2.5},children:(0,r.jsxs)(m.Z,{sx:{minWidth:0,justifyContent:"space-around",padding:"5px 2vw 5px 2vw",color:t==P?"#3b82f6":"primary"},children:[0===t?(0,r.jsx)(w.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),1===t?(0,r.jsx)(b.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),2===t?(0,r.jsx)(Z.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),3===t?(0,r.jsx)(S.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{})]})})},e))}):(0,r.jsx)("div",{style:{paddingTop:"10vh"},children:(0,r.jsx)(l.Z,{sx:{display:"flex"},children:(0,r.jsxs)(ep,{variant:"permanent",open:a,children:[a?(0,r.jsx)(ex,{children:(0,r.jsx)(h.Z,{onClick:R,children:"rtl"===i.direction?(0,r.jsx)(v.Z,{}):(0,r.jsx)(g.Z,{})})}):(0,r.jsx)(c.Z,{children:(0,r.jsx)(h.Z,{color:"inherit","aria-label":"open drawer",onClick:E,edge:"start",sx:{marginRight:5,...a&&{display:"none"}},children:(0,r.jsx)(u.Z,{})})}),(0,r.jsx)(p.Z,{}),(0,r.jsx)(x.Z,{children:["Videos","Courses","Merch","Tip Jar"].map((e,t)=>(0,r.jsx)(f.ZP,{disablePadding:!0,sx:{display:"block",color:t==P?"blue":"primary"},onClick(){B(event,t),(0,G.Q5)("TabChange_"+P+"_To_"+t)},children:(0,r.jsxs)(j.Z,{sx:{minHeight:48,justifyContent:a?"initial":"center",px:2.5},children:[(0,r.jsxs)(m.Z,{sx:{minWidth:0,mr:a?3:"auto",justifyContent:"center",padding:"5px",color:t==P?"#3b82f6":"primary"},children:[0===t?(0,r.jsx)(w.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),1===t?(0,r.jsx)(b.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),2===t?(0,r.jsx)(Z.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{}),3===t?(0,r.jsx)(S.Z,{fontSize:"large"}):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsx)(y.Z,{primary:e,sx:{opacity:a?1:0}})]})},e))})]})})}),(0,r.jsx)("div",{style:{width:N?"100vw":"90vw"},children:(0,r.jsx)(n.Z,{children:I[P]})})]}):(0,r.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",paddingTop:"30vh",height:"100vh",width:"100vw"},children:(0,r.jsx)(en(),{src:ea.Z,height:"150",width:"150",alt:"",style:{width:"150px",height:"150px"}})})})]})}}},function(e){e.O(0,[7642,1762,2213,3595,9774,2888,179],function(){return e(e.s=67139)}),_N_E=e.O()}]);