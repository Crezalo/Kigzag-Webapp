(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2760],{70754:function(e,r,t){"use strict";t.d(r,{Z:function(){return D}});var i=t(63366),n=t(87462),o=t(67294),a=t(86010),s=t(94780),l=t(70917),c=t(36622),d=t(78884),u=t(81719),h=t(1588),p=t(34867);function x(e){return(0,p.Z)("MuiCircularProgress",e)}(0,h.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g=t(85893);let f=["className","color","disableShrink","size","style","thickness","value","variant"],m=e=>e,v,b,k,y,w=(0,l.F4)(v||(v=m`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),j=(0,l.F4)(b||(b=m`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Z=e=>{let{classes:r,variant:t,color:i,disableShrink:n}=e,o={root:["root",t,`color${(0,c.Z)(i)}`],svg:["svg"],circle:["circle",`circle${(0,c.Z)(t)}`,n&&"circleDisableShrink"]};return(0,s.Z)(o,x,r)},C=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver(e,r){let{ownerState:t}=e;return[r.root,r[t.variant],r[`color${(0,c.Z)(t.color)}`]]}})(({ownerState:e,theme:r})=>(0,n.Z)({display:"inline-block"},"determinate"===e.variant&&{transition:r.transitions.create("transform")},"inherit"!==e.color&&{color:(r.vars||r).palette[e.color].main}),({ownerState:e})=>"indeterminate"===e.variant&&(0,l.iv)(k||(k=m`
      animation: ${0} 1.4s linear infinite;
    `),w)),S=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,r)=>r.svg})({display:"block"}),P=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver(e,r){let{ownerState:t}=e;return[r.circle,r[`circle${(0,c.Z)(t.variant)}`],t.disableShrink&&r.circleDisableShrink]}})(({ownerState:e,theme:r})=>(0,n.Z)({stroke:"currentColor"},"determinate"===e.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:e})=>"indeterminate"===e.variant&&!e.disableShrink&&(0,l.iv)(y||(y=m`
      animation: ${0} 1.4s ease-in-out infinite;
    `),j)),N=o.forwardRef(function(e,r){let t=(0,d.Z)({props:e,name:"MuiCircularProgress"}),{className:o,color:s="primary",disableShrink:l=!1,size:c=40,style:u,thickness:h=3.6,value:p=0,variant:x="indeterminate"}=t,m=(0,i.Z)(t,f),v=(0,n.Z)({},t,{color:s,disableShrink:l,size:c,thickness:h,value:p,variant:x}),b=Z(v),k={},y={},w={};if("determinate"===x){let j=2*Math.PI*((44-h)/2);k.strokeDasharray=j.toFixed(3),w["aria-valuenow"]=Math.round(p),k.strokeDashoffset=`${((100-p)/100*j).toFixed(3)}px`,y.transform="rotate(-90deg)"}return(0,g.jsx)(C,(0,n.Z)({className:(0,a.Z)(b.root,o),style:(0,n.Z)({width:c,height:c},y,u),ownerState:v,ref:r,role:"progressbar"},w,m,{children:(0,g.jsx)(S,{className:b.svg,ownerState:v,viewBox:"22 22 44 44",children:(0,g.jsx)(P,{className:b.circle,style:k,ownerState:v,cx:44,cy:44,r:(44-h)/2,fill:"none",strokeWidth:h})})}))});var D=N},23953:function(e,r,t){"use strict";var i=t(87462),n=t(63366),o=t(67294),a=t(86010),s=t(94780),l=t(14127),c=t(56594),d=t(59711),u=t(69700),h=t(96480),p=t(78884),x=t(37133),g=t(85893);let f=["className","children","classes","IconComponent","input","inputProps","variant"],m=["root"],v=e=>{let{classes:r}=e;return(0,s.Z)({root:["root"]},x.f,r)},b=(0,g.jsx)(h.Z,{}),k=o.forwardRef(function(e,r){let t=(0,p.Z)({name:"MuiNativeSelect",props:e}),{className:s,children:h,classes:x={},IconComponent:k=u.Z,input:y=b,inputProps:w}=t,j=(0,n.Z)(t,f),Z=(0,d.Z)(),C=(0,c.Z)({props:t,muiFormControl:Z,states:["variant"]}),S=(0,i.Z)({},t,{classes:x}),P=v(S),N=(0,n.Z)(x,m);return(0,g.jsx)(o.Fragment,{children:o.cloneElement(y,(0,i.Z)({inputComponent:l.ZP,inputProps:(0,i.Z)({children:h,classes:N,IconComponent:k,variant:C.variant,type:void 0},w,y?y.props.inputProps:{}),ref:r},j,{className:(0,a.Z)(P.root,y.props.className,s)}))})});k.muiName="Select",r.Z=k},20014:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketing",function(){return t(86176)}])},86176:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var i=t(85893),n=t(52135),o=t(67294),a=t(9008),s=t.n(a),l=t(41120),c=t(70754),d=t(58316),u=t(87822),h=t(23953),p=t(75084),x=t(9669),g=t.n(x),f=t(76095);let m="https://mailserver.crezalo.com/";async function v(e){try{if(!(0,f.z)().Authorization)return"Not Logged In";{let r=await g().get("https://crezalo.com/api/marketing/"+e,{headers:(0,f.z)()});if(r.data.isSuccessful)return r.data.result;return r.data.errorMsg}}catch(t){console.log(t)}}async function b(e,r){try{if(!(0,f.z)().Authorization)return"Not Logged In";{console.log(m);let t=await g().post(m,{sqlquery:e,template:r},{headers:(0,f.z)()});if(t.data.isSuccessful)return t.data.result;return t.data.errorMsg}}catch(i){console.log(i)}}let k=(0,l.Z)(e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center",overflowY:"scroll"},paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],color:"white",display:"flex",flexDirection:"column",justifyContent:"center",padding:e.spacing(0,4,3)},button:{},title:{fontWeight:"bold",margin:"10px 0 20px 0",color:"#3B82F6",textAlign:"center"},label:{},edit:{margin:"10px","&:hover":{color:"rgb(76, 175, 80)"}},error:{color:"red",fontSize:"16px",backgroundColor:"white",borderRadius:"5px"},textfield:{}})),y=()=>{k();let[e,r]=(0,o.useState)(""),[t,n]=(0,o.useState)("generic"),[a,s]=(0,o.useState)([{name:"",link:"",category:"",description:"",subcount:"",totalvideos:"",totalviews:"",emails:"",numbers:""}]),[l,c]=(0,o.useState)(""),x=async()=>{let r=await v(e);"string"!=typeof r?(s(r),c("")):c(r)},g=async()=>{let r=await b(e,t);"success"===r?c(""):c(r)};return(0,i.jsxs)("div",{style:{color:"white"},children:[(0,i.jsx)(d.Z,{style:{fontWeight:"bold",margin:"20px",color:"white",width:"90vw"},children:"SQL Query For Marketing Data"}),(0,i.jsx)(u.Z,{style:{width:"90vw",backgroundColor:"white",margin:"20px",borderRadius:"5px"},type:"string",placeholder:"SQL Query Here ...",InputLabelProps:{shrink:!0},variant:"outlined",defaultValue:"",onChange(e){r(e.target.value)}}),(0,i.jsx)("br",{}),(0,i.jsx)(h.Z,{id:"type",name:"type",style:{width:"90vw",backgroundColor:"white",margin:"20px",borderRadius:"5px"},onChange(e){n(e.target.value)},required:!0,children:(0,i.jsx)("option",{value:"generic",children:"Generic"})}),(0,i.jsx)("br",{}),(0,i.jsx)(p.Z,{style:{background:"#3B82F6",color:"white",marginBottom:"2px",fontWeight:"bold",textAlign:"center",margin:"20px"},variant:"contained",onClick:x,children:"Get Data"}),(0,i.jsx)(p.Z,{style:{background:"#3B82F6",color:"white",marginBottom:"2px",fontWeight:"bold",textAlign:"center",margin:"20px"},variant:"contained",onClick:g,children:"Send Email"}),(0,i.jsx)("div",{style:{width:"90vw",margin:"20px",height:"40vh",overflow:"scroll"},children:null==a?void 0:a.map((e,r)=>(0,i.jsxs)("div",{style:{backgroundColor:"white",color:"black",margin:"5px",padding:"1px",borderRadius:"5px",overflow:"scroll"},children:[(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"index:"})," ",r]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"name:"})," ",e.name]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"category:"})," ",e.category]}),(0,i.jsx)("a",{href:e.link,target:"_blank",style:{color:"blue",textDecoration:"underline"},children:e.link}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Description:"})," ",e.description]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Emails:"})," ",e.emails]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Numbers:"})," ",e.numbers]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"Subscribers:"})," ",e.subcount]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"TotalVideos:"})," ",e.totalvideos]}),(0,i.jsxs)("p",{children:[(0,i.jsx)("b",{children:"TotalViews:"})," ",e.totalviews]})]}))}),(0,i.jsx)("p",{style:{color:"red"},children:l})]})};function w(){let[e,r]=(0,o.useState)(""),[t,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{(async function(){console.log("AuthService.refresh()"),console.log(await n.Z.refresh()),a(n.Z.validateCurrentUserRefreshToken()&&n.Z.validateCurrentUserAccessToken())})()},[]),(0,o.useEffect)(()=>{r(n.Z.getUsername())},[t]),(0,i.jsxs)("div",{children:[(0,i.jsxs)(s(),{children:[(0,i.jsx)("title",{children:"Crezalo: Marketing [Admin only]"}),(0,i.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,i.jsx)("div",{style:{backgroundColor:"black"},children:t?(0,i.jsx)(y,{}):(0,i.jsx)(c.Z,{style:{display:"flex",margin:"auto",height:"80vh"}})})]})}(0,l.Z)(e=>({modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{borderRadius:"5px",boxShadow:e.shadows[5],color:"black",backgroundColor:"blue",padding:e.spacing(2,4,3),overflowY:"auto",overflowX:"hidden",maxHeight:"80vh",margin:"20px"}}))},9008:function(e,r,t){e.exports=t(83121)}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=20014)}),_N_E=e.O()}]);