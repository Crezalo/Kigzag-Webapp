(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[660],{50253:function(e,r,t){"use strict";t.d(r,{Z:function(){return A}});var o,n,i,a=t(41451),s=t(87462),p=t(19668);function l(e,r){var t={};return Object.keys(e).forEach(function(o){-1===r.indexOf(o)&&(t[o]=e[o])}),t}var d=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=function(e){return r.reduce(function(r,t){var o=t(e);return o?(0,p.Z)(r,o):r},{})};return o.propTypes={},o.filterProps=r.reduce(function(e,r){return e.concat(r.filterProps)},[]),o},c=t(4942),u=t(71410);function f(e,r){return r&&"string"==typeof r?r.split(".").reduce(function(e,r){return e&&e[r]?e[r]:null},e):null}var h=function(e){var r=e.prop,t=e.cssProperty,o=void 0===t?e.prop:t,n=e.themeKey,i=e.transform,a=function(e){if(null==e[r])return null;var t=e[r],a=f(e.theme,n)||{},s=function(e){var r;return("function"==typeof a?r=a(e):Array.isArray(a)?r=a[e]||e:(r=f(a,e)||e,i&&(r=i(r))),!1===o)?r:(0,c.Z)({},o,r)};return(0,u.k)(e,t,s)};return a.propTypes={},a.filterProps=[r],a};function m(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var y=d(h({prop:"border",themeKey:"borders",transform:m}),h({prop:"borderTop",themeKey:"borders",transform:m}),h({prop:"borderRight",themeKey:"borders",transform:m}),h({prop:"borderBottom",themeKey:"borders",transform:m}),h({prop:"borderLeft",themeKey:"borders",transform:m}),h({prop:"borderColor",themeKey:"palette"}),h({prop:"borderRadius",themeKey:"shape"})),x=d(h({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),h({prop:"display"}),h({prop:"overflow"}),h({prop:"textOverflow"}),h({prop:"visibility"}),h({prop:"whiteSpace"})),g=d(h({prop:"flexBasis"}),h({prop:"flexDirection"}),h({prop:"flexWrap"}),h({prop:"justifyContent"}),h({prop:"alignItems"}),h({prop:"alignContent"}),h({prop:"order"}),h({prop:"flex"}),h({prop:"flexGrow"}),h({prop:"flexShrink"}),h({prop:"alignSelf"}),h({prop:"justifyItems"}),h({prop:"justifySelf"})),v=d(h({prop:"gridGap"}),h({prop:"gridColumnGap"}),h({prop:"gridRowGap"}),h({prop:"gridColumn"}),h({prop:"gridRow"}),h({prop:"gridAutoFlow"}),h({prop:"gridAutoColumns"}),h({prop:"gridAutoRows"}),h({prop:"gridTemplateColumns"}),h({prop:"gridTemplateRows"}),h({prop:"gridTemplateAreas"}),h({prop:"gridArea"})),w=d(h({prop:"position"}),h({prop:"zIndex",themeKey:"zIndex"}),h({prop:"top"}),h({prop:"right"}),h({prop:"bottom"}),h({prop:"left"})),b=d(h({prop:"color",themeKey:"palette"}),h({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"})),j=h({prop:"boxShadow",themeKey:"shadows"});function Z(e){return e<=1?"".concat(100*e,"%"):e}var S=h({prop:"width",transform:Z}),C=h({prop:"maxWidth",transform:Z}),D=h({prop:"minWidth",transform:Z}),P=h({prop:"height",transform:Z}),k=h({prop:"maxHeight",transform:Z}),T=h({prop:"minHeight",transform:Z});h({prop:"size",cssProperty:"width",transform:Z}),h({prop:"size",cssProperty:"height",transform:Z});var _=d(S,C,D,P,k,T,h({prop:"boxSizing"})),F=t(27122),z=d(h({prop:"fontFamily",themeKey:"typography"}),h({prop:"fontSize",themeKey:"typography"}),h({prop:"fontStyle",themeKey:"typography"}),h({prop:"fontWeight",themeKey:"typography"}),h({prop:"letterSpacing"}),h({prop:"lineHeight"}),h({prop:"textAlign"})),N=t(45987),E=t(67294),K=t(86010),$=t(8679),M=t.n($),I=t(16612),W=t(99700),R=(n=d(y,x,g,v,w,b,j,_,F.Z,z),(i=function(e){var r=n(e);return e.css?(0,s.Z)({},(0,p.Z)(r,n((0,s.Z)({theme:e.theme},e.css))),l(e.css,[n.filterProps])):e.sx?(0,s.Z)({},(0,p.Z)(r,n((0,s.Z)({theme:e.theme},e.sx))),l(e.sx,[n.filterProps])):r}).propTypes={},i.filterProps=["css","sx"].concat((0,a.Z)(n.filterProps)),i),A=(o=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.name,n=(0,N.Z)(t,["name"]),i="function"==typeof e?function(r){return{root:function(t){return e((0,s.Z)({theme:r},t))}}}:{root:e},a=(0,I.Z)(i,(0,s.Z)({Component:"div",name:o||"div".displayName,classNamePrefix:o},n));e.filterProps&&(r=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);var p=E.forwardRef(function(e,t){var o,n,i=e.children,p=e.className,l=e.clone,d=e.component,c=(0,N.Z)(e,["children","className","clone","component"]),u=a(e),f=(0,K.Z)(u.root,p),h=c;return r&&(o=h,n={},Object.keys(o).forEach(function(e){-1===r.indexOf(e)&&(n[e]=o[e])}),h=n),l?E.cloneElement(i,(0,s.Z)({className:(0,K.Z)(i.props.className,f)},h)):"function"==typeof i?i((0,s.Z)({className:f},h)):E.createElement(d||"div",(0,s.Z)({ref:t,className:f},h),i)});return M()(p,"div"),p},function(e,r){return o(e,(0,s.Z)({defaultTheme:W.Z},r))})(R,{name:"MuiBox"})},23267:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders",function(){return t(15772)}])},15772:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Y}});var o=t(85893),n=t(79895),i=t(81719),a=t(62097),s=t(93789),p=t(64631),l=t(20784),d=t(85214),c=t(14412),u=t(80562),f=t(326),h=t(19572),m=t(26215),y=t(81284),x=t(95309),g=t(29901),v=t(14548),w=t(47621),b=t(54167),j=t(55406),Z=t(71859),S=t(52135),C=t(67294),D=t(9008),P=t.n(D),k=t(41120),T=t(41749),_=t(50253),F=t(11163),z=t.n(F),N=t(86554),E=t(65550),K=t(37497),$=t(97520),M=t(87822),I=t(87927);let W=(0,k.Z)(e=>({textfieldMsg:{width:"65vw","& .MuiFormLabel-root":{fontSize:"18px"}}})),R=e=>{let{order:r}=e,t=S.Z.getUsername(),[n,i]=(0,C.useState)(""),[a,s]=(0,C.useState)(""),[p,l]=(0,C.useState)(""),d=W();return(0,C.useEffect)(()=>{(async function(){if(0==r.ordertype)i("Premium Videos from "+r.creator),l(0==r.type?"1 month":1==r.type?"3 month":"1 year");else if(1==r.ordertype){l(0==r.type?"1 month":1==r.type?"3 month":"1 year");let e=await (0,E.kS)(r.seriesid);e[0]&&i(e[0].title);let t=await (0,E.v9)(r.seriesid);t[0]&&s(t[0].signedurl)}else if(2==r.ordertype){let o=await (0,K.n9)(r.productid);o[0]&&(i(o[0].title),l(o[0].variantname));let n=await (0,K.KS)(r.productid);n[0]&&s(n[0].signedurl)}else if(3==r.ordertype){let a=await (0,K.KS)(r.productid);a[0]&&s(a[0].signedurl)}})()},[t,r]),(0,o.jsx)(o.Fragment,{children:-1!==r.ordertype&&(null==r?void 0:r.creator)!=""?(0,o.jsxs)("div",{className:"cartItemCard pointer",style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",width:(null==r?void 0:r.ordertype)==2?"35vw":(null==r?void 0:r.ordertype)==3?"100vw":"25vw"},onClick(){z().push({pathname:(null==r?void 0:r.ordertype)==2?"/merch":(null==r?void 0:r.ordertype)==1?"/course":"/creatorprofile",query:(null==r?void 0:r.ordertype)==2?{productid:r.productid}:(null==r?void 0:r.ordertype)==1?{courseid:r.seriesid}:{address:r.creator}})},children:[(0,o.jsx)("div",{className:"cartItemCardImageElement",children:0==r.ordertype||3==r.ordertype?(0,o.jsx)(N.Z,{creator:r.creator,height:90,width:90}):(0,o.jsx)(o.Fragment,{children:(null==a?void 0:a.includes("https://"))?(0,o.jsx)("img",{src:a,alt:"Loading ...",className:"cartItemCardImageElement"}):(0,o.jsx)(o.Fragment,{})})}),3!==r.ordertype?(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px",width:"55%"},children:[(0,o.jsx)("h1",{style:{fontSize:"14px"},children:(0,$.a)(n,40)}),(0,o.jsx)("h1",{style:{fontSize:"13px",color:"grey",fontWeight:"bold"},children:(0,$.a)(p,100)}),0===r.ordertype||1===r.ordertype?(0,o.jsxs)("h1",{style:{fontSize:"13px",color:Date.parse(r.expiry_date)>Date.now()?"blue":"red",fontWeight:"bold"},children:[Date.parse(r.expiry_date)>Date.now()?"Expires":"Expired"," ","on"," ",new Date(Date.parse(r.expiry_date)).getDate()+" "+I.Z[new Date(Date.parse(r.expiry_date)).getMonth()]+" "+new Date(Date.parse(r.expiry_date)).getFullYear()]}):(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold"},children:["Ordered on"," ",new Date(Date.parse(r.boughtat)).getDate()+" "+I.Z[new Date(Date.parse(r.boughtat)).getMonth()]+" "+new Date(Date.parse(r.boughtat)).getFullYear()]})]}):(0,o.jsxs)("div",{style:{padding:"0px 5px 8px 15px"},children:[(0,o.jsx)("h1",{style:{fontWeight:"bold",marginTop:"5px",color:"#3B82F6"},children:r.creator}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹ ",r.amount]}),(0,o.jsx)(M.Z,{className:d.textfieldMsg,label:"Message",type:"text",multiline:!0,variant:"filled",value:r.message}),(0,o.jsxs)("h1",{style:{fontSize:"13px",color:"blue",fontWeight:"bold",marginTop:"5px"},children:["Tipped on"," ",new Date(Date.parse(r.tippedat)).getDate()+" "+I.Z[new Date(Date.parse(r.tippedat)).getMonth()]+" "+new Date(Date.parse(r.tippedat)).getFullYear()]})]}),2==r.ordertype?(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"row",float:"right"},children:[(0,o.jsx)(M.Z,{label:"Qty",type:"number",size:"small",variant:"filled",value:r.quantity,style:{width:"5vw",padding:"5px",marginRight:"10px"}}),(0,o.jsxs)("h1",{style:{fontWeight:"bold",marginTop:"5px"},children:["₹",r.buyingprice]})]}):(0,o.jsx)(o.Fragment,{})]}):(0,o.jsx)(o.Fragment,{})})};var A=t(73794),O=t(95366),q=t(53199),V=t(30031);let B=(0,k.Z)(e=>({paper:{backgroundColor:e.palette.background.paper,borderRadius:"5px",boxShadow:e.shadows[5],color:"white",justifyContent:"center",margin:"10px 20px 20px 20px",overflowX:"hidden",maxHeight:"80vh","&:hover":{boxShadow:"0 10px 18px 8px #173464",borderRadius:"2%"}}})),H=e=>{let{category:r}=e,t=S.Z.getUsername(),n=B(),[i,a]=(0,C.useState)([{username:"",ordertype:-1,creator:"",seriesid:"",productid:"",expiry_date:"",type:0,quantity:"0",buyingprice:0,deliverystatus:"",deliverystatuslink:"",returnstatus:"",amount:0,message:"",boughtat:"",tippedat:""}]);return(0,C.useEffect)(()=>{(async function(){let e=[];"Videos"==r?e=await (0,A.I$)():"Courses"==r?e=await (0,O.Nq)():"Merch"==r?e=await (0,q.et)():"Perq"==r&&(e=await (0,V.VI)()),console.log(e),"string"!=typeof e&&e[0]&&a(e)})()},[t]),(0,C.useEffect)(()=>{var e=i,t="Videos"===r?0:"Courses"===r?1:"Merch"===r?2:"Perq"===r?3:-1;for(let o=0;o<i.length;o++)e[o].ordertype=t;a(e)},[i]),(0,o.jsx)("div",{className:"blueTextBlackBackground",children:(0,o.jsx)(_.Z,{component:"form",sx:{minWidth:150,margin:"20px 5px 15px 5px"},children:(0,o.jsx)(T.Z,{container:!0,direction:"row",spacing:1,children:null==i?void 0:i.map((e,r)=>(0,o.jsx)(o.Fragment,{children:((null==e?void 0:e.creator)!=""||(null==e?void 0:e.productid))&&(null==e?void 0:e.ordertype)!=-1?(0,o.jsx)("div",{className:n.paper,children:(0,o.jsx)(T.Z,{item:!0,xs:4,children:(0,o.jsx)(R,{order:e},r)})}):(0,o.jsx)(o.Fragment,{})}))})})})},U=e=>({width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),overflowX:"hidden"}),X=e=>({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:"calc(".concat(e.spacing(7)," + 1px)"),[e.breakpoints.up("sm")]:{width:"calc(".concat(e.spacing(8)," + 1px)")}}),G=(0,i.ZP)("div")(e=>{let{theme:r}=e;return{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:r.spacing(0,1),...r.mixins.toolbar}}),L=(0,i.ZP)(p.ZP,{shouldForwardProp:e=>"open"!==e})(e=>{let{theme:r,open:t}=e;return{width:240,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",...t&&{...U(r),"& .MuiDrawer-paper":U(r)},...!t&&{...X(r),"& .MuiDrawer-paper":X(r)}}});function Y(){let e=(0,a.Z)(),[r,t]=C.useState(!1),[i,p]=(0,C.useState)(!1),[D,k]=(0,C.useState)(""),[T,_]=(0,C.useState)(0);(0,C.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await S.Z.refresh()),p(S.Z.validateCurrentUserRefreshToken()&&S.Z.validateCurrentUserAccessToken())}()},[]),(0,C.useEffect)(()=>{k(S.Z.getUsername())},[i]);let[F,z]=C.useState(0),N=(e,r)=>{z(r)},E=[(0,o.jsx)(H,{category:"Videos"},1),(0,o.jsx)(H,{category:"Courses"},2),(0,o.jsx)(H,{category:"Merch"},3),(0,o.jsx)(H,{category:"Perq"},4)],K=()=>{t(!0)},$=()=>{t(!1)};return(0,o.jsxs)("div",{children:[(0,o.jsxs)(P(),{children:[(0,o.jsx)("title",{children:"Kigzag: My Purchases"}),(0,o.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,o.jsx)("div",{style:{backgroundColor:"black",display:"flex",flexDirection:"row"},children:""!=D&&i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{paddingTop:"10vh"},children:(0,o.jsx)(s.Z,{sx:{display:"flex"},children:(0,o.jsxs)(L,{variant:"permanent",open:r,children:[r?(0,o.jsx)(G,{children:(0,o.jsx)(u.Z,{onClick:$,children:"rtl"===e.direction?(0,o.jsx)(m.Z,{}):(0,o.jsx)(h.Z,{})})}):(0,o.jsx)(l.Z,{children:(0,o.jsx)(u.Z,{color:"inherit","aria-label":"open drawer",onClick:K,edge:"start",sx:{marginRight:5,...r&&{display:"none"}},children:(0,o.jsx)(f.Z,{})})}),(0,o.jsx)(c.Z,{}),(0,o.jsx)(d.Z,{children:["Videos","Courses","Merch","Tip Jar"].map((e,t)=>(0,o.jsx)(y.ZP,{disablePadding:!0,sx:{display:"block",color:t==F?"blue":"primary"},onClick:()=>N(event,t),children:(0,o.jsxs)(x.Z,{sx:{minHeight:48,justifyContent:r?"initial":"center",px:2.5},children:[(0,o.jsxs)(g.Z,{sx:{minWidth:0,mr:r?3:"auto",justifyContent:"center",padding:"5px",color:t==F?"#3b82f6":"primary"},children:[0===t?(0,o.jsx)(w.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),1===t?(0,o.jsx)(b.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),2===t?(0,o.jsx)(j.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{}),3===t?(0,o.jsx)(Z.Z,{fontSize:"large"}):(0,o.jsx)(o.Fragment,{})]}),(0,o.jsx)(v.Z,{primary:e,sx:{opacity:r?1:0}})]})},e))})]})})}),(0,o.jsx)("div",{style:{width:"90vw"},children:(0,o.jsx)(n.Z,{children:E[F]})})]}):(0,o.jsx)(o.Fragment,{})})]})}},69921:function(e,r){"use strict";/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var t,o=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");t=Symbol.for("react.module.reference"),r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===s||e===a||e===u||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===t||void 0!==e.getModuleId)},r.typeOf=function(e){if("object"==typeof e&&null!==e){var r=e.$$typeof;switch(r){case o:switch(e=e.type){case i:case s:case a:case u:case f:return e;default:switch(e=e&&e.$$typeof){case d:case l:case c:case m:case h:case p:return e;default:return r}}case n:return r}}}},59864:function(e,r,t){"use strict";e.exports=t(69921)}},function(e){e.O(0,[608,142,822,431,595,774,888,179],function(){return e(e.s=23267)}),_N_E=e.O()}]);