(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[955],{2709:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/videoplayer",function(){return t(48786)}])},48786:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var o=t(85893),s=t(67294),i=t(65550),n=t(11163),a=t.n(n),c=t(17563),l=t(9008),d=t.n(l),u=t(52135),h=t(38196),v=t(93123),f=t(86554);function g(){let e=(0,n.useRouter)(),{videoid:r}=e.query;if(!r){let t=e.asPath;r=c.parseUrl(t).query.videoid}var l,g,[p,m]=(0,s.useState)("");let[x,j]=(0,s.useState)(!1),[y,w]=(0,s.useState)(""),[N,S]=(0,s.useState)(""),_=(0,s.useRef)(null);(0,s.useEffect)(()=>{!async function(){console.log("AuthService.refresh()"),console.log(await u.Z.refresh()),j(u.Z.validateCurrentUserRefreshToken()&&u.Z.validateCurrentUserAccessToken())}()},[]),(0,s.useEffect)(()=>{w(u.Z.getUsername())},[x]),(0,s.useEffect)(()=>{!async function(){if(r){var e,t,o;let s=await (0,i.sv)(r.toString());m(s[0].signedurl),null===(e=_.current)||void 0===e||e.pause(),null===(t=_.current)||void 0===t||t.load(),null===(o=_.current)||void 0===o||o.play()}}()},[r]);let[D,E]=(0,s.useState)({title:"",description:"",creator:"",seriesid:"",createdat:""}),k=(l=Date.now(),(g=l-Date.parse(D.createdat))<6e4?Math.round(g/1e3)+" seconds ago":g<36e5?Math.round(g/6e4)+" minutes ago":g<864e5?Math.round(g/36e5)+" hours ago":g<2592e6?Math.round(g/864e5)+" days ago":g<31536e6?Math.round(g/2592e6)+" months ago":Math.round(g/31536e6)+" years ago");return(0,s.useEffect)(()=>{(async function(){if(r){let e=await (0,i.kS)(r.toString());E(e[0])}})()},[r]),(0,s.useEffect)(()=>{(async function(){if(""!=D.creator){var e;let r=await (0,h.A)(D.creator,"displaypicture");S(null===(e=r[0])||void 0===e?void 0:e.displaypicture)}})()},[D.creator]),console.log("videoDetails"),console.log(D),console.log("signedURl"),console.log(p),(0,o.jsxs)("div",{children:[(0,o.jsxs)(d(),{children:[(0,o.jsx)("title",{children:D.title}),(0,o.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"})]}),(0,o.jsx)("div",{className:"videoDiv",children:x&&p?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("video",{controls:!0,autoPlay:!0,crossOrigin:"anonymous",controlsList:"nodownload",ref:_,children:(0,o.jsx)("source",{src:p,type:"video/mp4"})}),(0,o.jsx)("h1",{className:"videoDiv h1",children:D.title}),(0,o.jsxs)("section",{onClick(){a().push({pathname:"/creatorprofile",query:{address:D.creator}})},className:"creatorIdent pointer",children:[(0,o.jsx)("div",{className:"creatorImageMinor",children:(0,o.jsx)(f.Z,{creator:D.creator,height:50,width:50})}),(0,o.jsx)("h2",{className:"VideoDiv h2",children:D.creator})]}),(0,o.jsx)("h1",{className:"VideoDiv h1",style:{fontSize:"13px",color:"grey"},children:k.startsWith("1 ")?k.replace("s","").replace("econd","second"):k}),(0,o.jsx)("h1",{className:"VideoDiv p",children:D.description}),(0,o.jsx)("div",{style:{marginTop:"5vh"},children:(null==D?void 0:D.seriesid)==="vod_"+(null==D?void 0:D.creator)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"videoDiv h1",style:{color:"#3B82F6"},children:"Other Videos"}),(0,o.jsx)(v.Z,{creator:D.creator,onCreatorProfile:!0,category:"Videos",ignoreVideoId:r.toString()})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h1",{className:"videoDiv h1",style:{color:"#3B82F6"},children:"Other lectures from course"}),(0,o.jsx)(v.Z,{creator:D.creator,onCreatorProfile:!0,category:"SeriesVideoGrid",seriesid:D.seriesid,ignoreVideoId:r.toString()})]})})]}):(0,o.jsx)(o.Fragment,{})})]})}}},function(e){e.O(0,[461,756,32,774,888,179],function(){return e(e.s=2709)}),_N_E=e.O()}]);